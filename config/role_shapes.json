{
  "metadata": {
    "version": "2.4",
    "description": "JSON schemas and banned phrases for each role in AxProtocol Creative Domain",
    "last_updated": "2025-01-27",
    "phase": "Phase 1: Creative Domain First"
  },
  "Caller": {
    "description": "Role 0: Optimized Prompt Suggestion & Proactive AxP Insight",
    "banned": [],
    "json_schema": {
      "oneOf": [
        {
          "description": "Trivial Request - Terminate",
          "required": ["status", "response"],
          "properties": {
            "status": { "const": "terminate" },
            "response": { "type": "string" }
          }
        },
        {
          "description": "Clear Complex Objective - Proceed",
          "required": ["status", "payload"],
          "properties": {
            "status": { "const": "proceed" },
            "payload": {
              "required": ["objective"],
              "properties": { "objective": { "type": "string" } }
            }
          }
        },
        {
          "description": "Ambiguous - Suggest Optimization",
          "required": ["status", "suggested_objective", "axp_insight", "user_confirmation_question"],
          "properties": {
            "status": { "const": "suggest_optimized_prompt_and_insight" },
            "suggested_objective": { "type": "string" },
            "axp_insight": {
              "type": "object",
              "required": ["title", "perspectives", "verdict"],
              "properties": {
                "title": { "type": "string" },
                "perspectives": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": { "type": "string" },
                      "description": { "type": "string" }
                    }
                  }
                },
                "verdict": {
                  "type": "object",
                  "properties": {
                    "verdict_name": { "type": "string" },
                    "reasoning": { "type": "string" }
                  }
                }
              }
            },
            "user_confirmation_question": { "type": "string" }
          }
        }
      ]
    }
  },
  "Strategist": {
    "banned": ["api contract", "ddl", "schedule table", "deployment checklist"],
    "json_schema": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "s_id": {"type": "string"},
          "title": {"type": "string"},
          "audience": {"type": "string"},
          "hooks": {"type": "array", "items": {"type": "string"}},
          "three_step_plan": {"type": "array", "items": {"type": "string"}},
          "acceptance_tests": {"type": "array", "items": {"type": "string"}}
        },
        "required": ["s_id", "title", "audience", "hooks", "three_step_plan", "acceptance_tests"]
      }
    }
  },
  "Analyst": {
    "banned": ["deployment checklist", "schedule", "publish-ready assets"],
    "json_schema": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "a_id": {"type": "string"},
          "s_refs": {"type": "array", "items": {"type": "string"}},
          "kpi_table": {"type": "array"},
          "falsifications": {"type": "array"},
          "risks": {"type": "array"}
        },
        "required": ["a_id", "s_refs", "kpi_table", "falsifications", "risks"]
      }
    }
  },
  "Producer": {
    "banned": ["deployment checklist", "architecture rationale", "schedule", "audit"],
    "json_schema": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "p_id": {"type": "string"},
          "a_refs": {"type": "array", "items": {"type": "string"}},
          "spec_type": {"type": "string"},
          "body": {"type": "string"}
        },
        "required": ["p_id", "a_refs", "spec_type", "body"]
      }
    }
  },
  "Courier": {
    "banned": ["deployment checklist", "architecture rationale", "api", "ddl", "audit"],
    "json_schema": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "day": {"type": "string"},
          "time": {"type": "string"},
          "channel": {"type": "string"},
          "p_id": {"type": "string"},
          "kpi_target": {"type": "string"},
          "owner_action": {"type": "string"}
        },
        "required": ["day", "time", "channel", "p_id", "kpi_target", "owner_action"]
      }
    }
  },
  "Critic": {
    "banned": ["deployment checklist", "schedule", "copy block", "testimonials", "calls to action"],
    "json_schema": {
      "type": "object",
      "properties": {
        "critic_output": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "x_id": {"type": "string"},
              "refs": {"type": "array", "items": {"type": "string"}},
              "issue": {"type": "string"},
              "fix": {"type": "string"},
              "severity": {"type": "string"},
              "proof_scores": {"type": "object"}
            },
            "required": ["x_id", "refs", "issue", "fix", "severity", "proof_scores"]
          }
        },
        "axp_insight": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string",
              "description": "Title of the insight (e.g., 'Analysis of Output & Iteration Guidance')"
            },
            "perspectives": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "label": {
                    "type": "string",
                    "enum": ["Logical", "Practical", "Probable Human Outcome", "Fringe/Challenging"]
                  },
                  "content": {
                    "type": "string",
                    "description": "Perspective on the output itself, its implications, or potential improvements"
                  }
                },
                "required": ["label", "content"]
              },
              "minItems": 3,
              "maxItems": 4,
              "description": "3-4 distinct takes on the output"
            },
            "verdict": {
              "type": "string",
              "description": "AxProtocol's Strongest Take with reasoning based on testability, applicability, and alignment with directives"
            }
          },
          "required": ["title", "perspectives", "verdict"]
        },
        "afterthought_on_user_input": {
          "type": "object",
          "properties": {
            "present": {
              "type": "boolean",
              "description": "true ONLY IF user_rejection = True (user explicitly rejected Caller's optimized prompt)"
            },
            "message": {
              "type": "string",
              "description": "If present=true: addresses user's rejection, diagnostic of output's misalignment with original intent, and guidance for future inputs. If present=false: empty string."
            }
          },
          "required": ["present", "message"]
        },
        "ratings": {
          "type": "object",
          "properties": {
            "compliance": {"type": "number", "minimum": 0, "maximum": 100},
            "clarity": {"type": "number", "minimum": 0, "maximum": 100},
            "proof": {"type": "number", "minimum": 0, "maximum": 100},
            "cta_power": {"type": "number", "minimum": 0, "maximum": 100},
            "local_tone": {"type": "number", "minimum": 0, "maximum": 100},
            "average": {"type": "number", "minimum": 0, "maximum": 100}
          },
          "required": ["compliance", "clarity", "proof", "cta_power", "local_tone", "average"]
        },
        "readiness_assessment": {
          "type": "string",
          "enum": ["go", "no_go", "revise"],
          "description": "Final go/no-go/revise decision"
        }
      },
      "required": ["critic_output", "axp_insight", "afterthought_on_user_input", "ratings", "readiness_assessment"]
    }
  }
}
